<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/main.css">
    <link rel="preload" href="./img/loading.svg" as="image">
    <link rel="preload" href="./img/bg.jpg" as="image">
    <link rel="preload" href="./img/dp.jpg" as="image">
    <link href="https://fonts.googleapis.com/css2?family=Shadows+Into+Light&display=swap" rel="stylesheet">
    <title>ASHU </title>
</head>

<body>
    <script>
        function call(ths) {
            ths.style.display = "block"
        }
    </script>
    <div class="bg">
        <img class="" onload="call(this)" src="./img/bg.jpg"/>
    </div>
    <h1>A s h u ' s P i c t u r e G a l l e r y</h1>
    <div class="imgContainer" id="dp">
        <div class="loading"></div>
        <img onload="call(this)" src="./img/dp.jpg" alt="21">
    </div>
    <main>
        <!-- main content -->
    </main>

    <script>
        let arr = ["rocky-mountain-1149298.jpg","cliff-2699812.jpg", "DSC_0009.JPG"]

        for (let name of arr) {
            let a = document.createElement('a')
            a.setAttribute('target', "_blank")
            a.setAttribute('href', `./img/${name}`)

            let imgContainer = document.createElement('div')
            imgContainer.classList.add('imgContainer')

            let loading = document.createElement('div')
            loading.classList.add('loading')

            let img = document.createElement('img')
            img.setAttribute('onload', 'call(this)')
            img.setAttribute('src', `./img/${name}`)

            imgContainer.appendChild(loading)
            imgContainer.appendChild(img)
            a.appendChild(imgContainer)

            let main = document.querySelector('main')
            main.appendChild(a)
        }

        let i = 0
        setInterval(() => {
            console.log(i)
            let imgAni = document.querySelectorAll('a img')
            if(i>=arr.length)
            {
                imgAni[i-1].classList.remove('imgAni')
                i=0;
            }
            if(i>0)
                imgAni[i-1].classList.remove('imgAni')
            imgAni[i++%arr.length].classList.add('imgAni')
        }, 6000);
    </script>
</body>
</html>
